{% extends "fixadmin.html.twig" %}
{% block content %}
    {{ form_start(form,{'attr': {'novalidate': 'novalidate'}} ) }}
    <div class="container-fluid">
        <center style="margin-top:20px;margin-bottom:20px"><h3 class="d-inline" style="color:#7571f9;">Ajouter un événement</h3></center>
        <div class="row justify-content-center">
            <div class="col-lg-12" style="margin-bottom: 50px">
                <div class="card" >
                    <div class="card-body">
                        <div class="form-validation">
                            <form class="form-valide">
                                <div class="form-group row">

                                    <label class="col-lg-4 col-form-label" >{{ form_label(form.titre) }} <span class="text-danger">*</span>
                                    </label>

                                    <div class="col-lg-6">
                                        {{ form_widget(form.titre, {'attr': {'class': 'form-control'}}) }}
                                        <small class="alert-danger">{{ form_errors(form.titre) }}</small>
                                    </div>
                                </div>
                                <div class="form-group row">

                                    <label class="col-lg-4 col-form-label" >{{ form_label(form.lieu) }} <span class="text-danger">*</span>
                                    </label>

                                    <div class="col-lg-6">
                                        {{ form_widget(form.lieu, {'attr': {'class': 'form-control'}}) }}
                                        <small class="alert-danger">{{ form_errors(form.lieu) }}</small>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-lg-4 col-form-label" for="val-email">{{ form_label(form.date) }} <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        {{ form_widget(form.date, {'attr': {'class': 'form-control mydatepicker'}}) }}
                                        <small class="alert-danger">{{ form_errors(form.date) }}</small>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-lg-4 col-form-label" for="val-email">{{ form_label(form.datefin) }} <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        {{ form_widget(form.datefin, {'attr': {'class': 'form-control mydatepicker'}}) }}
                                        <small class="alert-danger">{{ form_errors(form.datefin) }}</small>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-lg-4 col-form-label" for="val-suggestions">{{ form_label(form.description) }}  <span class="text-danger">*</span>
                                    </label>
                                    <div class="col-lg-6">
                                        {{ form_widget(form.description, {'attr': {'class': 'form-control','id':'id_description'}}) }}
                                        <small class="alert-danger">{{ form_errors(form.description) }}</small>
                                    </div>
                                </div>


                                {{ form_rest(form) }}
                                <div class="form-group row">
                                    <div class="col-lg-8 ml-auto">
                                        <button type="submit" onclick="" class="btn btn-primary">Submit</button>
                                    </div>
                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   <!-- <script>
        $(document).ready(function() {
            $("form").submit(function() {
                var description = $("#id_description").val();
                var wordsToCheck = ["vendre", "achats", "acheter", "vendu", "vente", "achat", "seller", "buyer", "buy", "sell"];

                for (var i = 0; i < wordsToCheck.length; i++) {
                    if (description.indexOf(wordsToCheck[i]) !== -1) {
                        var censoredDescription = description.replace(new RegExp(wordsToCheck[i], "gi"), "***");
                        $("#id_description").val(censoredDescription);
                        alert("Cette plateforme n'est pas une plateforme pour vendre et acheter des biens. S'il vous plaît, respectez les conditions d'utilisation de l'administration.");
                        return false;
                    }
                }
            });
        });

    </script>-->
    {{ form_end(form) }}{% endblock %}